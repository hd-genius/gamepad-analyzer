import { Buttons } from "../../../../constants";
import { ShoulderButton } from "./shoulder-button";
import { TriggerButton } from "./trigger-button";
import { useButton } from "../../../../hooks";
import drawingStyles from "../../drawing.module.css";
import { Handedness } from "./handedness";

export const TopView = () => {
    const leftBumperButton = useButton(Buttons.LEFT_SHOULDER);
    const rightBumperButton = useButton(Buttons.RIGHT_SHOULDER);

    const leftTrigger = useButton(Buttons.LEFT_TRIGGER);
    const rightTrigger = useButton(Buttons.RIGHT_TRIGGER);

    return (
        <svg viewBox="0 0 138.46764 58.538776">
            <g id="layer1" transform="translate(-0.86947183,-0.33617702)">
                <path
                    d="m 169.85776,113.30636 c 0,0 -0.23942,5.30552 0.26824,7.88638 0.4674,2.37614 1.27652,4.73626 2.5215,6.8134 1.30252,2.17313 2.76855,3.7288 4.82839,5.20394 1.57695,1.12932 3.41671,2.05205 5.31124,2.46785 1.0137,0.22248 3.37988,0.37554 3.37988,0.37554 0,0 4.1964,2.47777 6.54516,2.89704 2.22265,0.39676 4.70226,0.5005 6.75975,-0.4292 1.42889,-0.64566 2.36665,-2.08613 3.32623,-3.32622 1.2951,-1.67368 1.72252,-3.97578 3.21893,-5.47219 1.63514,-1.63514 3.43353,-1.39487 3.43353,-1.39487 v -15.98735 l -37.44689,-4.39921 z"
                    className={drawingStyles.outlined}
                    transform="translate(-168.79767,-80.499301)"
                />
                <path
                    className={drawingStyles.outlined}
                    d="m 169.74494,113.30636 c 0,0 0.23942,5.30552 -0.26824,7.88638 -0.4674,2.37614 -1.27652,4.73626 -2.5215,6.8134 -1.30252,2.17313 -2.76855,3.7288 -4.82839,5.20394 -1.57695,1.12932 -3.41671,2.05205 -5.31124,2.46785 -1.0137,0.22248 -3.37988,0.37554 -3.37988,0.37554 0,0 -4.1964,2.47777 -6.54516,2.89704 -2.22265,0.39676 -4.70226,0.5005 -6.75975,-0.4292 -1.42889,-0.64566 -2.36665,-2.08613 -3.32623,-3.32622 -1.2951,-1.67368 -1.72252,-3.97578 -3.21893,-5.47219 -1.63514,-1.63514 -3.43353,-1.39487 -3.43353,-1.39487 v -15.98735 l 37.44689,-4.39921 z"
                    transform="translate(-30.59825,-80.713896)"
                />
                <path
                    className={drawingStyles.outlined}
                    d="m 47.245317,16.021528 -1.820902,10.090836 0.151741,5.91793 H 95.04781 v -6.14555 l -1.82472,-9.979718 z"
                />
                <ellipse
                    className={drawingStyles.outlined}
                    cx="83.071182"
                    cy="21.600992"
                    rx="2.6191764"
                    ry="2.5394299"
                />
                <Joystick x={-30.59825} y={-80.713896} />
                <Joystick x={-88.7521} y={-81.8651694} />
                <ShoulderButton
                    side={Handedness.LEFT}
                    pressed={leftBumperButton.pressed}
                    testId="left-shoulder"
                />
                <TriggerButton
                    side={Handedness.LEFT}
                    pressed={leftTrigger.pressed}
                    testId="left-trigger"
                />
                <path
                    className={drawingStyles.outlined}
                    d="m 65.511748,26.691084 h 9.458472 v 1.82406 l -1.44852,1.44852 h -6.908246 l -1.099801,-1.0998 z"
                />
                <path
                    className={drawingStyles.outlined}
                    d="m 23.877071,13.517788 c 0,0 -0.20774,-1.123382 -0.0569,-1.384644 0.243658,-0.422028 1.003354,-0.799298 1.593289,-1.024258 1.357791,-0.517767 2.833762,-0.594102 4.286707,-0.569031 0.986954,0.01703 1.896773,0.455226 1.896773,0.455226 l 0.132771,1.953675 z"
                />
                <path
                    className={drawingStyles.outlined}
                    d="m 14.520428,16.766053 c 0,0 -0.166221,-1.2873 0,-1.609465 0.28618,-0.554667 1.549159,-1.255562 2.414198,-1.716764 1.342432,-0.715729 2.871619,-1.118831 4.37238,-1.368046 0.952797,-0.158221 2.148914,-0.23846 2.521495,0.134121 0.358807,0.358807 0.24142,1.341222 0.24142,1.341222 z"
                />
                <path
                    className={drawingStyles.outlined}
                    d="m 78.27652,11.734822 c 0,0 -0.10541,-0.824906 0.0694,-1.175999 0.11727,-0.235548 0.28745,-0.373606 0.5376,-0.455227 0.64808,-0.2114605 3.76699,-0.1084925 4.4894,0.08508 0.42684,0.114372 0.89844,0.43053 1.31472,0.578794 0.32301,0.115041 1.09065,0.09484 1.09065,0.09484 0,0 -0.008,-0.348849 0.0853,-0.493162 0.14626,-0.225575 0.52543,-0.4001775 0.77768,-0.4931605 0.45486,-0.167669 5.09221,-0.139836 5.74723,0.03794 0.22565,0.06124 0.50397,0.1451135 0.62643,0.3507205 0.0495,0.08315 0.067,0.680568 0.067,0.680568 0,0 1.16265,0.02558 1.74045,-0.02737 0.96928,-0.08882 1.04023,-0.461328 2.87939,-0.485476 l -0.0143,1.150716 z"
                />
                <path
                    className={drawingStyles.outlined}
                    d="m 38.286864,16.175916 c 20.167296,-0.434022 40.354486,-0.652556 60.515896,0 6.08081,0.196815 11.91139,-0.202301 18.21378,1.180272 3.61891,0.793889 6.93677,1.655987 9.52267,3.862726 2.93247,2.50249 3.92343,7.81868 3.92343,7.81868 0,0 2.84854,-1.17905 4.83435,-0.36419 2.19029,0.89876 3.8497,3.90985 3.8497,3.90985 0,0 -0.49075,-4.27339 -1.28757,-6.16041 -0.67721,-1.60379 -1.73978,-3.04498 -2.89704,-4.34556 -0.93611,-1.05204 -2.07104,-1.92035 -3.21893,-2.73609 -1.35252,-0.961167 -2.81611,-1.76309 -4.29191,-2.521494 -1.09656,-0.563517 -3.37987,-1.502166 -3.37987,-1.502166 0,0 -2.4445,-4.087962 -3.23168,-4.594834 -0.84168,-0.541972 -2.95611,-0.689066 -4.49376,-0.8237005 -4.68529,-0.4102394 -9.4124,-0.237013 -14.10964,0 -1.31552,0.06638 -2.32203,-0.0335 -3.93152,0.3977655 -1.12103,0.300379 -2.56966,0.978696 -2.56966,0.978696 l -31.053013,0.125708 c 0,0 -1.046593,-0.01967 -2.092307,-0.751084 -0.783752,-0.548191 -0.473937,-0.8408295 -1.15833,-1.2022179 -0.593421,-0.313352 -2.521065,-0.398235 -3.83101,-0.460897 -3.947618,-0.188836 -7.912661,-0.257503 -11.856395,0 -1.097864,0.07168 -3.272581,0.429191 -3.272581,0.429191 l -0.751083,1.2339239 -2.199603,0.91203 c 0,0 -7.419424,0.162413 -10.62247,0.590137 -3.203046,0.427724 -5.776455,0.945881 -8.557782,1.824061 -2.399066,0.757484 -4.717064,1.785413 -6.946735,2.950686 -1.765798,0.922843 -3.8094134,2.026969 -5.8937474,3.615585 -1.666928,1.27048 -3.444766,3.72768 -4.362386,5.61202 -0.803428,1.64985 -1.600262,5.31123 -1.600262,5.31123 0,0 1.606121,-1.60636 3.218932,-2.46784 0.932787,-0.49824 1.948597,-0.95803 3.004335,-1.01933 0.766842,-0.0445 2.2532504,0.48284 2.2532504,0.48284 0,0 0.818635,-3.57548 2.414199,-5.52584 1.479595,-1.80861 3.616021,-3.05044 5.740426,-4.023657 2.783889,-1.275342 5.875918,-1.809518 8.905708,-2.253253 3.701512,-0.542114 7.472474,-0.402346 11.212608,-0.482838 z"
                />
                <path
                    className={drawingStyles.outlined}
                    d="m 35.507121,11.669413 c 0,0 -0.204758,-0.648616 0.120707,-1.086391 0.462892,-0.6226225 1.688523,-0.7522175 2.695856,-0.8986165 1.101367,-0.1600664 2.427035,-0.2366974 3.784938,-0.115154 0.699891,0.06265 1.765985,0.105415 2.142306,0.5263285 0.322816,0.361069 0.296023,1.332414 0.296023,1.332414 z"
                />
                <path
                    className={drawingStyles.outlined}
                    d="m 27.82534,12.30097 c 0,0 -0.214612,-0.561131 -0.02682,-0.886389 0.258734,-0.45 0.82,-0.6 2,-0.95 1.39,-0.41 2.77,-0.47 4.18,-0.3 1.38,0.17 1.5,0.23 1.9,0.63 0.25,0.25 0.23,0.86 0.23,0.86 z"
                />
                <path
                    className={drawingStyles.outlined}
                    d="m 39.66,32.03 h 60.7 c 0,0 0.38,10.35 0.15,11.99 -0.43,3.08 -1.13,3.79 -1.13,3.79 H 40.87 c 0,0 -0.59,-1.03 -0.91,-3.03 -0.67,-4.2 -0.3,-12.75 -0.3,-12.75 z"
                />
                <TriggerButton
                    side={Handedness.RIGHT}
                    pressed={rightTrigger.pressed}
                    testId="right-trigger"
                />
                <ShoulderButton
                    side={Handedness.RIGHT}
                    pressed={rightBumperButton.pressed}
                    testId="right-shoulder"
                />
            </g>
        </svg>
    );
};

const Joystick = ({ x, y }) => {
    return (
        <g
            transform={`translate(${x},${y})`}
            className={drawingStyles.outlined}
        >
            <path d="m 135.17,86.51 0.06,4.97 c 0,0 -2.15,0.32 -3.73,1.87 h 17.61 c -2.04,-1.73 -4.33,-1.86 -4.33,-1.86 l -0.07,-4.99 z" />
            <path d="m 133.64,82.45 12.69,-0.11 c 0,0 2.11,0.51 2.17,2.36 0.06,1.85 -2.08,2.27 -2.08,2.27 h -12.81 c 0,0 -2.18,0.05 -2.18,-2.15 0,-2.21 2.2,-2.36 2.2,-2.36 z" />
        </g>
    );
};
